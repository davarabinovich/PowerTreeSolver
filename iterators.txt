
#include <iostream>
#include <list>
#include <iterator>


using namespace std;


class Cont
{
    public:
        Cont (int num, int val) : data(num, val) {;}
        
    private:
        class ContIterator : public ::iterator<input_iterator_tag, int>
        {
            public:
                ContIterator () : value(list<int>::iterator()) {;}
                ContIterator (const ContIterator & it) : value(it.value) {;}
                ContIterator (const list<int>::iterator & it) : value(it) {;}
                
                bool operator != (const ContIterator & other) const 
                { return (value != other.value); }
                
                bool operator == (const ContIterator & other) const 
                { return (value == other.value); }
                
                int & operator * () const { return (*value); }
                ContIterator & operator++ ()    { ++value; return *this; }
                ContIterator & operator++ (int) { value++; return *this; }
                
            private:
                list<int>::iterator value;    
        };
        
        class ContConstIterator : public ::iterator<input_iterator_tag, int>
        {
            public:
                ContConstIterator () : value(list<int>::const_iterator()) {;}
                ContConstIterator (const ContConstIterator & it) : value(it.value) {;}
                ContConstIterator (const list<int>::const_iterator & it) : value(it) {;}
                
                bool operator != (const ContConstIterator & other) const 
                { return (value != other.value); }
                
                bool operator == (const ContConstIterator & other) const 
                { return (value == other.value); }
                
                const int & operator * () const { return (*value); }
                ContConstIterator & operator++ ()    { ++value; return *this; }
                ContConstIterator & operator++ (int) { value++; return *this; }
                
            private:
                list<int>::const_iterator value;    
        };
        
    public:
        using iterator = ContIterator;
        using const_iterator = ContConstIterator;
        
        iterator begin () { return iterator(data.begin()); }
        iterator end () { return iterator(data.end()); }
        
        
    private:
        list<int> data;    
};


int main() 
{
    Cont a(10, 10);
    a.begin();
    
    for (const auto & elem : a)
        cout << elem << endl;
}